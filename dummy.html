<!-- Dummy webpage to see the working of PDF.js -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>PDF Reader</title>
    <!-- Load pdf.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  </head>
  <body>
    <h1>PDF Reader</h1>
    <input type="file" id="pdfFile" accept=".pdf"><br><br>
    <div id="pdfContent"></div>
    
    <script>
      // Get the input element
      const pdfFileInput = document.getElementById("pdfFile");

      // Add event listener for when a file is selected
      pdfFileInput.addEventListener('change', () => {
        const file = pdfFileInput.files[0];

        // Load the PDF file using pdf.js
        
        pdfjsLib.getDocument(URL.createObjectURL(file)).promise.then(pdf => {
          // Loop through each page of the PDF file
          console.log(URL.createObjectURL(file));
          for (let i = 1; i <= pdf.numPages; i++) {
            // Get the text content of the page
            pdf.getPage(i).then(page => {
              page.getTextContent().then(textContent => {
                const text = textContent.items.map(item => item.str).join(" ");
                // Display the text content of the page
                document.getElementById("pdfContent").innerHTML += text;
              });
            });
          }
        });
      });
    </script>
  </body>
</html>